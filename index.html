<!DOCTYPE html>
<html lang="en">
<head>
	<title>Slide Show</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div>
		<h1>SlideShow</h1>
		<p class="intro">This Slide Show have the purpose of practicing my skill using HTML, CSS, and JavaScript. </p>
	</div>
	<div class="slideshow">
		<div class="slideshow__c-slides">
			<div class="slideshow__slide">
				<div class="slideshow__title" onclick="showReference()"> 
					<h3>A stormy sky and ocean</h3>
				</div>
				<img src="https://images.unsplash.com/photo-1523977843538-0650e8cb2e7d?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=a43d0d3984b7a6e57716c15ee6fe5797&auto=format&fit=crop&w=1050&q=80" alt="Fort Ebey State Park, Coupeville, United States by Patrick Fore.">
				<div class="slideshow__paragraph"> 
					<p>Fort Ebey State Park is a 649-acre camping park on Whidbey Island.</p>
				</div>
				<div class="slideshow__reference">Fort Ebey State Park, Coupeville, United States by Patrick Fore.</div>
			</div>
			<div class="slideshow__slide">
				<div class="slideshow__title" onclick="showReference()">
					<h3>Dachstein Mountains</h3>
				</div>
				<img src="https://images.unsplash.com/photo-1491904768633-2b7e3e7fede5?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=b201ea4f1683a8e092ff153c1b423e78&auto=format&fit=crop&w=1189&q=80" alt="Dachstein Mountains, Obertraun, Austria by Kaidi Guo">
				<div class="slideshow__paragraph">
					<p>The Dachstein Mountains are a mountain range in the Northern Limestone Alps. The term is used by the Austrian Alpine Club in its classification of the Eastern Alps as one of the 24 sub-ranges of the Northern Limestone Alps.</p>
				</div>
				<div class="slideshow__reference">Dachstein Mountains, Obertraun, Austria by Kaidi Guo</div>
			</div>
			<div class="slideshow__slide">
				<div class="slideshow__title" onclick="showReference()">
					<h3></h3>
				</div>				
				<img src="https://images.unsplash.com/photo-1516524609276-3cb95aa22190?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3d79a0b6dc9683effb116d7e9763bfa2&auto=format&fit=crop&w=1225&q=80" alt="Tõrva, Estonia by Jaak Horn">
				<div class="slideshow__paragraph">
					<p></p>
				</div>
				<div class="slideshow__reference">Tõrva, Estonia by Jaak Horn</div>
			</div>
			<div class="slideshow__slide">
				<div class="slideshow__title" onclick="showReference()">
					<h3>Lutry, Switzerland</h3>
				</div>
				<img src="https://images.unsplash.com/photo-1517483141275-296bb15890b2?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=f6fb898eac03ab9abd1137fa691ebe82&auto=format&fit=crop&w=1051&q=80" alt="Lutry, Switzerland by Olivier Fahrni">
				<div class="slideshow__paragraph">
					<p>Lutry is a municipality in the Swiss canton of Vaud, located in the Lavaux-Oron.</p>
				</div>
				<div class="slideshow__reference">Lutry, Switzerland by Olivier Fahrni</div>
			</div>
			<div class="slideshow__slide">
				<div class="slideshow__title" onclick="showReference()">
					<h3>Mirror Lake Trail - Tosemite National Park</h3>
				</div>
				<img src="https://images.unsplash.com/photo-1480499484268-a85a2414da81?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6d765c5039bd6d36022739e3a6552c44&auto=format&fit=crop&w=1055&q=80" alt="Mirror Lake, Yosemite Valley, United States by Quentin Dr">
				<div class="slideshow__paragraph">
					<p>From the shuttle stop (#17), a paved trail leads directly to Mirror Lake. Which is in the Adirondack Mountains in northern New York in the United States. The lake is approximately 124 acres, with a watershed area of 741 acres.</p>
				</div>
				<div class="slideshow__reference">Mirror Lake, Yosemite Valley, United States by Quentin Dr</div>
			</div>
			<div class="slideshow__thumbnails"> 
				<div class="slideshow__thumbnail-imgs slideshow__thumbnail-imgs--actual" onclick="showSlide(idx, idx = 1)"><img src="https://images.unsplash.com/photo-1523977843538-0650e8cb2e7d?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=a43d0d3984b7a6e57716c15ee6fe5797&auto=format&fit=crop&w=1050&q=80"></div> 
				<div class="slideshow__thumbnail-imgs" onclick="showSlide(idx, idx = 2)"><img src="https://images.unsplash.com/photo-1491904768633-2b7e3e7fede5?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=b201ea4f1683a8e092ff153c1b423e78&auto=format&fit=crop&w=1189&q=80"></div>
				<div class="slideshow__thumbnail-imgs" onclick="showSlide(idx, idx = 3)"><img src="https://images.unsplash.com/photo-1516524609276-3cb95aa22190?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3d79a0b6dc9683effb116d7e9763bfa2&auto=format&fit=crop&w=1225&q=80"></div>
				<div class="slideshow__thumbnail-imgs" onclick="showSlide(idx, idx = 4)"><img src="https://images.unsplash.com/photo-1517483141275-296bb15890b2?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=f6fb898eac03ab9abd1137fa691ebe82&auto=format&fit=crop&w=1051&q=80"></div>
				<div class="slideshow__thumbnail-imgs" onclick="showSlide(idx, idx = 5)"><img src="https://images.unsplash.com/photo-1480499484268-a85a2414da81?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6d765c5039bd6d36022739e3a6552c44&auto=format&fit=crop&w=1055&q=80"></div>
			</div>
			<div class="slideshow__option-bar">
				<button class="slideshow__button slideshow__button--info" onclick="showInfo()"></button>
				<button class="slideshow__button slideshow__button--thumbnails" onclick="showThumbnails()"></button>
				<div class="slideshow__counter">0/0</div>
				<button class="slideshow__button slideshow__button--prev" onclick="prevSlide()"></button>
				<button id="slideshow__playBtn" class="slideshow__button slideshow__button--play" onclick="changePlay()"></button>
				<button class="slideshow__button slideshow__button--next" onclick="nextSlide()"></button>
			</div>
		</div>
	</div>
<script>

	//Elements
	const slide = document.querySelectorAll('.slideshow__slide');
	const thumbnailImgs = document.querySelectorAll('.slideshow__thumbnail-imgs');
	const counter = document.querySelector('.slideshow__counter');
	const popUp = document.querySelector('.slideshow__thumbnails');
	const infoBoxes = document.querySelectorAll('.slideshow__paragraph');
	const btnPlay = document.querySelector('#slideshow__playBtn');
	const refereces = document.querySelectorAll('.slideshow__reference');
	
	const SLIDE_TIMEOUT = 2000;
	var intervalSlides;
	var idx = 1;
	var up = false;
	var infoUp = false;
	var refUp = false;
	var play = false;
	var firstTime = true;

	// Function
	function nextSlide() {
		showSlide (idx, ++idx );
	}

	function prevSlide() {
		showSlide (idx, --idx);
	}

	// correct Funtions
	function correctIdx(actualSlide) {
		if (actualSlide > slide.length) {idx = 1};
		if (actualSlide < 1){idx = slide.length};
	}

	// Change Function
	function changeUp() {up = !up;}
	function changeInfo() {infoUp = !infoUp;}
	function changeReference() {refUp = !refUp;}
	function changePlay() { 
		play =! play;
		playSlides();
	}

	// Hidden Function
	function hiddePrevSlides(prevSlide) {
		if (firstTime){
			slide.forEach(img => img.style.display = 'none');
			thumbnailImgs.forEach(tImg => tImg.classList.remove('slideshow__thumbnail-imgs--actual'));
			firstTime = false;
		}
		else {
			slide[prevSlide - 1].style.display = 'none';
			thumbnailImgs[prevSlide - 1].classList.remove('slideshow__thumbnail-imgs--actual');
		}

	}

	// Show Funtions
	function showSlide(prevSlide, actualSlide) {

		correctIdx(actualSlide);

		hiddePrevSlides(prevSlide);

		slide[idx - 1].style.display = 'block';
		thumbnailImgs[idx - 1].classList.add('slideshow__thumbnail-imgs--actual');
		counter.textContent = idx + "/" + (slide.length);
	}

	function showThumbnails() {
		changeUp();
		popUp.style.display = up ? 'block' : 'none';
		if (up && infoUp) {
			showInfo();
		}
	}

	function showInfo() {
		changeInfo();
		infoBoxes.forEach(infoBox => infoBox.style.display = infoUp ? 'block' : 'none');
		if (up && infoUp) {
			showThumbnails();
		}
	}

	function showReference() {
		changeReference();
		refereces.forEach(ref => ref.style.display = refUp ? 'block' : 'none');
	}

	// Play Funtions
	function playSlides() {
		if (play){
			btnPlay.classList.replace('slideshow__button--play', 'slideshow__button--pause');
			showSlide(idx, ++idx);
			intervalSlides = setTimeout(playSlides, SLIDE_TIMEOUT);
		}
		else {
			btnPlay.classList.replace('slideshow__button--pause','slideshow__button--play');
			showSlide(idx - 1, idx);
			clearTimeout(intervalSlides);
		}
	}

	playSlides();
</script>
</body>
</html>
